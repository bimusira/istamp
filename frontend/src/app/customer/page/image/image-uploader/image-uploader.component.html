<div class="container">
  <!-- Header -->
  <div class="header">
    <img src="assets/logo.jpeg" alt="Logo" class="logo" />
    <button class="icon-btn">
      <mat-icon>account_circle</mat-icon>
    </button>
  </div>

  <!-- Title -->
  <h2 class="title">Upload รูปภาพ</h2>

  <!-- Template Cards Grid -->
  <div class="grid">
    <div class="card" *ngFor="let card of cards; let i = index" (click)="fileInput.click()">
      <ng-container *ngIf="!card.preview; else showImg">
        <mat-icon class="card-img">image</mat-icon>
      </ng-container>
      <ng-template #showImg>
        <img [src]="card.preview" style="width:100%;height:100%;object-fit:cover;border-radius:12px;" />
      </ng-template>
      <!-- input file (hidden) -->
      <input type="file" accept="image/png,image/jpeg" hidden (change)="onFileSelected($event, i)" #fileInput />
      <button class="upload-btn">
        <span class="material-symbols-outlined">upload</span>
      </button>
    </div>
  </div>

  <!-- Footer Buttons -->
  <div class="footer">
    <button routerLink="/customer/select-temp" class="btn-outline">ย้อนกลับ</button>
    <!-- --------- (เปลี่ยน) จาก routerLink เป็น (click) onNext --------- -->
    <button 
      (click)="onNext()" 
      class="btn-filled" 
      [disabled]="!isAllSlotFull()"
    >ถัดไป</button>
  </div>
</div>
